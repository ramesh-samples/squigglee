- hosts: tag_ring_position_{{logicalNumber}}:&tag_cluster_{{cluster}}
  user: ec2-user 
  tasks:
     - debug: msg="Stopping Services at Logical Node = {{logicalNumber}}"
#     - debug: var=logicalNumber
#     - debug: var=hostvars[inventory_hostname]['ec2_tag_ring_position']
     - shell: "ps aux | grep com.squigglee.jobs.task.N[o]deUpdateTask | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True  
     
     - shell: "ps aux | grep com.squigglee.jobs.launchers.I[n]dexTaskLauncher | awk {'print $2'} | xargs sudo kill -9"    
       sudo: yes
       ignore_errors: True  
     
     - shell: "ps aux | grep com.squigglee.jobs.launchers.P[i]ngTaskLauncher | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True  
       
     - shell: "ps aux | grep com.squigglee.jobs.indexing.Indexing[M]aster | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True 
       
     - shell: "ps aux | grep com.squigglee.jobs.indexing.Indexing[W]orker | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True 
       
     - shell: "ps aux | grep com.squigglee.jobs.sync.Sync[W]orker | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True
       
     - shell: "ps aux | grep com.squigglee.jobs.event.Event[W]orker | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True 
       
     - shell: "ps aux | grep com.squigglee.jobs.event.Event[S]weeper | awk {'print $2'} | xargs sudo kill -9"
       sudo: yes
       ignore_errors: True                       
       
       